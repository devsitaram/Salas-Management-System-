<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>splash Page</title>
    </h:head>
    <h:body>
        <h:dataTable value="#{customerDbBean.customerData}" var="customer"
                    styleClass="table"
                    headerClass="header"
                    rowClasses="oddRows,evenRows"
                    cellpadding="5" cellspacing="5">
           <h:column>
               <f:facet name="header">customer Id</f:facet>
                   #{customer.customer_id}
           </h:column>
           <h:column>
               <f:facet name="header">Name</f:facet>
                   #{customer.Customer_name}
           </h:column>
           <h:column>
               <f:facet name="header">Email</f:facet>
                   #{customer.Email}
           </h:column>
           <h:column>
               <f:facet name="header">Address</f:facet>
                   #{customer.Address}
           </h:column>
           <h:column>
               <f:facet name="header">Phone No</f:facet>
                   #{customer.Phone_no}
           </h:column>
           <h:column>
               <f:facet name="header">Password</f:facet>
                   #{customer.Password}
           </h:column>
         </h:dataTable>
        
        <h:form>
            <h3>Edit Customer Details</h3>
            <div style="width: 50%; float: left">
                <p>Customer Id: 
                    <h:inputText id="customerIdInputText" rendered="true" style="margin-left: -5px; width: 200px"
                                requiredMessage="Please enter the valid phone number?"
                                value="#{customerModelBean.customerId}" maxlength="3"
                                converterMessage="Invalid your Id!">
                        <f:validateRegex pattern="^[98][0-9]\d{8}$"/> 
                    </h:inputText>
                    <h:message for="customerIdInputText" styleClass="error"/>
                </p>
                <p>Name:
                    <h:inputText id="nameInputText" rendered="true" style="margin-left: 40px; width: 200px"
                            requiredMessage="Please enter the valid name?"
                            value="#{customerModelBean.customerName}" 
                            validatorMessage="Invalid your name!">
                       <f:validateRegex pattern="^[A-Za-z\s]*"/>  
                    </h:inputText>
                    <h:message for="nameInputText" styleClass="error"/>
                </p>
                <p>Email: 
                    <h:inputText id="emailInputText" rendered="true" style="margin-left: 41px; width: 200px"
                            requiredMessage="Please enter the valid email?"
                            value="#{customerModelBean.email}"
                            validatorMessage="Invalid your email!">
                       <f:validateRegex pattern="^[A-Za-z0-9+_.-]+@(.+)$"/>  
                    </h:inputText>
                    <h:message for="emailInputText" styleClass="error"/>
                </p>
                <p>Address: 
                    <h:inputText id="addressInputText" rendered="true" style="margin-left: 21px; width: 200px"
                            requiredMessage="Please enter the valid name?"
                            value="#{customerModelBean.address}" 
                            validatorMessage="Invalid your name!">
                       <f:validateRegex pattern="^[A-Za-z\s]*"/>  
                    </h:inputText>
                    <h:message for="addressInputText" styleClass="error"/>
                </p>
                <p>Phone No: 
                    <h:inputText id="phoneInputText" rendered="true" style="margin-left: 9px; width: 200px"
                                requiredMessage="Please enter the valid phone number?"
                                value="#{customerModelBean.phoneNo}" maxlength="10"
                                validatorMessage="Invalid phone number!">
                        <f:validateRegex pattern="^[98][0-9]\d{8}$"/> 
                    </h:inputText>
                    <h:message for="phoneInputText" styleClass="error"/>
                </p>
                <p>Password:                                                
                    <h:inputText id="passwordInputText" rendered="true" 
                                 style="margin-left: 10px; width: 200px"
                            requiredMessage="Please enter the valid p?assword"
                            value="#{customerModelBean.password}" >
                    </h:inputText>
               </p>
            </div>

            <!--// update and delete button-->
            <div style="width: 50%; float: right;  text-align: center">
                                <h:commandButton value="Update" style="width: 25%; margin: 10px"
                                 action="#{customerDbBean.updateCustomerData(
                                        customerModelBean.customerName,
                                        customerModelBean.address,
                                        customerModelBean.email,
                                        customerModelBean.phoneNo,
                                        customerModelBean.password,
                                        customerModelBean.customerId)}"/>
                                
                <h:commandButton value="Delete" action="#{customerDbBean.deleteCustomer(customerModelBean.customerId)}"/>
            </div>
        </h:form>
    </h:body>
</html>

